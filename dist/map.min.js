(function(){var a,b,c,d=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};a=function(){function a(a,b){this.canvasHeight=a||360,this.canvasWidth=b||300,this.tileHeight=60,this.tileWidth=60}return a.prototype.getCanvasHeight=function(){return this.canvasHeight},a.prototype.getCanvasWidth=function(){return this.canvasWidth},a.prototype.calculateMap=function(){var a,b,c,d,e,f,g,h,i;for(d=this._initMap(),f=d.numRows,e=d.numCols,i=b=0,g=f;0<=g?b<=g:b>=g;i=0<=g?++b:--b)for(a=c=0,h=e;0<=h?c<=h:c>=h;a=0<=h?++c:--c)this._setTile([i,a],d);return console.log("\n",d,"\n"),JSON.stringify(d)},a.prototype._initMap=function(){var a,b,c,d,e,f,g,h,i;for(d=[],f=Math.floor(this.canvasHeight/this.tileHeight),e=Math.floor(this.canvasWidth/this.tileWidth),d.numRows=f,d.numCols=e,i=b=0,g=f;0<=g?b<=g:b>=g;i=0<=g?++b:--b)for(d[i]=[],a=c=0,h=e;0<=h?c<=h:c>=h;a=0<=h?++c:--c)d[i][a]="";return d},a.prototype._setTile=function(a,b){var c,d,e,f,g;return f=a[0],g=a[1],e=b.numRows,d=b.numCols,c={above:f>0?b[f-1][g]:null,below:f<e?b[f+1][g]:null,leftHand:g>0?b[f][g-1]:null,rightHand:g<d?b[f][g+1]:null},b[f][g]=this._pickTile(c),b},a.prototype._pickTile=function(a){var b,c,e,f,g,h;b={"+":{name:"crossroad",above:["+","|","^",">"],below:["+","|","v","<"],leftHand:["+","-",">","v"],rightHand:["+","-","^","<"]},"-":{name:"horizontal",above:[],below:[],leftHand:["+","-",">","v"],rightHand:["+","-","^","<"]},"|":{name:"vertical",above:["+","|","^",">"],below:["+","|","v","<"],leftHand:[],rightHand:[]},"^":{name:"left-top",above:["+","|","^",">"],below:[],leftHand:["+","-",">","v"],rightHand:[]},">":{name:"right-top",above:["+","|","^",">"],below:[],leftHand:[],rightHand:["+","-","^","<"]},v:{name:"right-bottom",above:[],below:["+","|","v","<"],leftHand:[],rightHand:["+","-","^","<"]},"<":{name:"left-bottom",above:[],below:["+","|","v","<"],leftHand:["+","-",">","v"],rightHand:[]}},h=[];for(e in a)if(f=a[e],console.log("sign is",e,f),null!==f)for(g in b)c=b[g],""!==f?(console.log("inclusion check",f,c[e]),d.call(c[e],f)>=0&&h.push(g)):h.push(g);return console.log("closer choice",h),h[0]},a}(),c="undefined"!=typeof exports&&null!==exports?exports:this,null==c.game&&(c.game={}),null==(b=c.game).models&&(b.models={}),c.game.models.Map=a}).call(this);
//# sourceMappingURL=map.min.js.map