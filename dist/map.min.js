(function(){var a,b,c,d=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};a=function(){function a(a,b){this.canvasHeight=a||360,this.canvasWidth=b||300,this.tileHeight=60,this.tileWidth=60}return a.prototype.getCanvasHeight=function(){return this.canvasHeight},a.prototype.getCanvasWidth=function(){return this.canvasWidth},a.prototype.calculateMap=function(){var a,b,c,d,e,f,g,h,i;for(d=this._initMap(),f=d.numRows,e=d.numCols,i=b=0,g=f;0<=g?b<=g:b>=g;i=0<=g?++b:--b)for(a=c=0,h=e;0<=h?c<=h:c>=h;a=0<=h?++c:--c)this._setTile([i,a],d);return console.log("\n",d,"\n"),JSON.stringify(d)},a.prototype._initMap=function(){var a,b,c,d,e,f,g,h,i;for(d=[],f=Math.floor(this.canvasHeight/this.tileHeight),e=Math.floor(this.canvasWidth/this.tileWidth),d.numRows=f,d.numCols=e,i=b=0,g=f;0<=g?b<=g:b>=g;i=0<=g?++b:--b)for(d[i]=[],a=c=0,h=e;0<=h?c<=h:c>=h;a=0<=h?++c:--c)d[i][a]="";return d},a.prototype._setTile=function(a,b){var c,d,e,f,g;return f=a[0],g=a[1],e=b.numRows,d=b.numCols,c={above:f>0?b[f-1][g]:null,below:f<e?b[f+1][g]:null,leftHand:g>0?b[f][g-1]:null,rightHand:g<d?b[f][g+1]:null},b[f][g]=this._pickTile(c),b},a.prototype._pickTile=function(a){var b,c,e;return b={above:["^",">","|","+",""],below:["v","<","|","+",""],leftHand:["v",">","-","+",""],rightHand:["^","<","-","+",""]},c=["^",">","v","<","-","|","+"],e=c.slice(0),c.push(""),null===a.above&&(c=c.filter(function(a){return d.call(b.above,a)<0})),null===a.leftHand?c=c.filter(function(a){return d.call(b.leftHand,a)<0}):c.length>1&&(c=c.filter(function(a){return d.call(b.leftHand,a)>=0})),null===a.below?c=c.filter(function(a){return d.call(b.below,a)<0}):c.length>1&&(c=c.filter(function(a){return d.call(b.below,a)>=0})),null===a.rightHand?c=c.filter(function(a){return d.call(b.rightHand,a)<0}):c.length>1&&(c=c.filter(function(a){return d.call(b.rightHand,a)>=0})),d.call(c,"")>=0&&(c=e[Math.floor(Math.random()*e.length)]),c[0]},a}(),c="undefined"!=typeof exports&&null!==exports?exports:this,null==c.game&&(c.game={}),null==(b=c.game).models&&(b.models={}),c.game.models.Map=a}).call(this);
//# sourceMappingURL=map.min.js.map